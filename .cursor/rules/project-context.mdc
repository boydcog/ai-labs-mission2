# Project Context and Global Settings Management

프로젝트 전역적으로 적용되는 설정과 컨텍스트를 관리하는 규칙입니다.

## 전역 설정 판단 기준

다음과 같은 요청은 프로젝트 전역 설정으로 판단하고 저장해야 합니다:

### 1. 기술 스택 및 라이브러리 변경
- 아이콘 라이브러리 변경 (예: Phosphor Icons → 다른 라이브러리)
- UI 프레임워크 변경
- 빌드 도구 변경
- 테스트 도구 변경
- 새로운 의존성 추가/제거

### 2. 디자인 시스템 변경
- 디자인 토큰 추가/수정/삭제
- 색상 팔레트 변경
- 타이포그래피 시스템 변경
- 간격 시스템 변경
- 반응형 브레이크포인트 변경

### 3. 코드 스타일 및 규칙 변경
- 파일 크기 제한 변경 (예: 300줄 → 500줄)
- 네이밍 컨벤션 변경
- Import 규칙 변경
- 코드 포맷팅 규칙 변경
- Lint 규칙 변경

### 4. 컴포넌트 구조 변경
- 컴포넌트 디렉토리 구조 변경
- 컴포넌트 생성 패턴 변경
- Storybook 구조 변경
- 컴포넌트 export 방식 변경

### 5. 프로젝트 설정 변경
- 빌드 설정 변경
- 환경 변수 추가/변경
- 경로 별칭 변경
- TypeScript 설정 변경

### 6. 워크플로우 변경
- 개발 프로세스 변경
- 커밋 규칙 변경
- 배포 프로세스 변경
- 테스트 전략 변경

### 7. 디자인 가이드라인 변경
- 반응형 디자인 전략 변경
- 접근성 요구사항 변경
- 브라우저 지원 정책 변경
- 성능 요구사항 변경

## 저장 방법

### 1. Cursor 메모리 저장
프로젝트 전역 설정은 Cursor의 메모리 기능을 사용하여 저장합니다.

**저장 형식:**
```
프로젝트 전역 설정: {설정 카테고리}
- {설정명}: {설정값}
- {설정명}: {설정값}
...
```

**예시:**
```
프로젝트 전역 설정: 아이콘 라이브러리
- 아이콘 라이브러리: @phosphor-icons/core
- 사용 위치: Local 컴포넌트에서 직접 import
- Default 컴포넌트: Icon 컴포넌트 사용
- SVG 파일 사용: 금지
```

### 2. 규칙 파일에 저장
`.cursor/rules/project-context.mdc` 파일에 저장합니다.

**저장 형식:**
```markdown
# Project Context

## {설정 카테고리}
- **{설정명}**: {설정값}
- **{설정명}**: {설정값}
- **변경일**: {날짜}
- **변경 이유**: {이유}
```

### 3. 프로젝트 설정 파일에 저장
`.cursor/project-setup.md` 또는 `.cursor/project-context.md` 파일에 저장합니다.

## 저장 프로세스

### Step 1: 전역 설정 판단
사용자 요청을 분석하여 전역 설정인지 판단:

**판단 기준:**
- 프로젝트 전체에 영향을 미치는가?
- 여러 파일/컴포넌트에 적용되는가?
- 향후 작업에 영향을 미치는가?
- 팀원들과 공유해야 하는가?

**판단이 어려운 경우:**
- 사용자에게 확인: "이 설정은 프로젝트 전역에 적용되나요?"
- 또는 보수적으로 전역 설정으로 간주하고 저장

### Step 2: 설정 정보 추출
요청에서 다음 정보를 추출:

1. **설정 카테고리**: 기술 스택, 디자인 시스템, 코드 스타일 등
2. **설정명**: 구체적인 설정 항목
3. **설정값**: 변경된 값 또는 새 값
4. **변경 이유**: 왜 변경되었는지 (선택)
5. **적용 범위**: 어디에 적용되는지
6. **참고 링크**: 관련 문서나 이슈 (선택)

### Step 3: 저장 실행
다음 순서로 저장:

1. **Cursor 메모리 저장**
   - `todo_write` 또는 메모리 기능 사용
   - 또는 사용자에게 명시적으로 메모리 저장 요청

2. **규칙 파일 업데이트**
   - `.cursor/rules/project-context.mdc` 파일 읽기
   - 해당 카테고리 섹션 찾기 또는 생성
   - 설정 정보 추가
   - 날짜 및 변경 이유 기록

3. **프로젝트 설정 파일 업데이트** (선택)
   - `.cursor/project-setup.md` 파일 업데이트
   - 또는 `.cursor/project-context.md` 파일 생성/업데이트

### Step 4: 확인 및 검증
저장 후 사용자에게 확인:

```
프로젝트 전역 설정이 저장되었습니다:
- {설정 카테고리}: {설정명} = {설정값}
- 저장 위치: {저장 위치}
- 향후 작업 시 자동으로 적용됩니다.
```

## 활용 방법

### 1. 코드 생성 시 참조
새로운 코드를 생성할 때 저장된 전역 설정을 자동으로 참조:

- 아이콘 라이브러리 설정 확인 → 올바른 import 사용
- 디자인 토큰 설정 확인 → 올바른 토큰 사용
- 코드 스타일 설정 확인 → 규칙 준수
- 컴포넌트 구조 설정 확인 → 올바른 구조 사용

### 2. 규칙 파일 업데이트
저장된 전역 설정을 기반으로 규칙 파일 자동 업데이트:

- `code-standards.mdc`: 코드 스타일 규칙 반영
- `component-usage.mdc`: 컴포넌트 사용 규칙 반영
- `figma-component-process.mdc`: 컴포넌트 처리 프로세스 반영

### 3. 검증 시 확인
작업 완료 후 검증 시 전역 설정 준수 여부 확인:

- 설정된 아이콘 라이브러리 사용 여부
- 설정된 디자인 토큰 사용 여부
- 설정된 코드 스타일 준수 여부

## 저장 예시

### 예시 1: 아이콘 라이브러리 변경
```
사용자 요청: "아이콘은 @phosphor-icons/core를 사용하도록 해줘"

판단: 전역 설정 (모든 컴포넌트에 영향)

저장:
1. Cursor 메모리:
   - 아이콘 라이브러리: @phosphor-icons/core
   - 사용 방법: Local 컴포넌트에서 직접 import
   - SVG 파일 사용: 금지

2. project-context.mdc:
   ## 아이콘 라이브러리
   - **라이브러리**: @phosphor-icons/core
   - **사용 위치**: Local 컴포넌트에서 직접 import
   - **Default 컴포넌트**: Icon 컴포넌트 사용 (디자인 시스템)
   - **SVG 파일**: 사용 금지
   - **변경일**: 2024-01-XX
```

### 예시 2: 파일 크기 제한 변경
```
사용자 요청: "파일당 500줄까지 허용해줘"

판단: 전역 설정 (모든 파일 생성에 영향)

저장:
1. Cursor 메모리:
   - 파일 크기 제한: 500줄
   - 초과 시: 컴포넌트 분리 또는 유틸리티 함수 분리

2. code-standards.mdc 업데이트:
   - 파일 크기 제한: 500줄로 변경
```

### 예시 3: 반응형 디자인 설정
```
사용자 요청: "모바일 우선, 360px 기준으로 해줘"

판단: 전역 설정 (모든 페이지/컴포넌트에 영향)

저장:
1. Cursor 메모리:
   - 반응형 모드: 모바일 우선
   - 기본 디자인 크기: 360px x 732px
   - 데스크탑 처리: 모바일 UI 유지, 중앙 정렬

2. project-context.mdc:
   ## 반응형 디자인
   - **모드**: 모바일 우선
   - **기본 크기**: 360px x 732px
   - **데스크탑**: 모바일 UI 유지, max-w-[360px] mx-auto
```

## 주의사항

### 1. 중복 저장 방지
- 이미 저장된 설정인지 확인
- 동일한 설정이 여러 곳에 저장되지 않도록 주의

### 2. 일관성 유지
- 저장된 설정과 실제 코드가 일치하도록 유지
- 규칙 파일과 프로젝트 설정 파일이 동기화되도록 유지

### 3. 버전 관리
- 설정 변경 시 이전 버전 기록 (선택)
- 변경 이유 명시

### 4. 검증
- 저장 후 규칙 파일이 올바르게 업데이트되었는지 확인
- 실제 코드 생성 시 저장된 설정이 적용되는지 확인

## 자동 저장 트리거

다음 키워드가 포함된 요청은 자동으로 전역 설정으로 판단:

- "프로젝트 전역"
- "모든 컴포넌트"
- "기본 설정"
- "표준으로"
- "규칙으로"
- "항상"
- "모두"
- "일괄"

이러한 키워드가 포함된 요청은 자동으로 저장 프로세스를 시작합니다.

## 실행 체크리스트

전역 설정 요청을 받았을 때:

- [ ] 전역 설정인지 판단
- [ ] 설정 정보 추출 (카테고리, 설정명, 설정값)
- [ ] Cursor 메모리 저장
- [ ] `.cursor/rules/project-context.mdc` 업데이트
- [ ] 관련 규칙 파일 업데이트 (필요시)
- [ ] 사용자에게 저장 완료 알림
- [ ] 향후 작업 시 자동 적용 확인
